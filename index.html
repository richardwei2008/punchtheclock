<!DOCTYPE html>
<html>
 <head>
     <meta charset="utf-8">
     <title>HTML5 Geolocation</title>
	 <script type="text/javascript" name="baidu-tc-cerfication" src="http://apps.bdimg.com/cloudaapi/lightapp.js#30f69a6ff0a329e07cd2dea5444ee2a8"></script> <script type="text/javascript">window.bd && bd._qdc && bd._qdc.init({app_id: '0e2e6bfd3dee074135c81cbf'});</script>
 </head>
<body>
<p id="demo">点击这个按钮，获得您的坐标：</p>
<button onclick="getLocation()">试一下</button>
<script>
var x = document.getElementById("demo");
function getLocation() {
	if (navigator.geolocation) {
		alert("1");
		navigator.geolocation.getCurrentPosition(showPosition, failPosition);
	} else {
		alert("Geolocation is not supported by this browser.");
		// x.innerHTML = "Geolocation is not supported by this browser.";
	}
};
function showPosition(position) {
	// x.innerHTML = "Latitude: " + position.coords.latitude +
	// 	"<br />Longitude: " + position.coords.longitude;
	alert("s");
	var map = "Latitude: " + position.coords.latitude +
		"<br />Longitude: " + position.coords.longitude;		
	alert(map);
};
function failPosition(error) {
	alert("f");
	switch(error.code) {
		case error.TIMEOUT:
			alert("Connection timeout, please retry later");
			break;
		case error.PERMISSION_DENIED:
			alert("You've denied to share the location service, inquiry is cancelled");
			break;
		case error.POSITION_UNAVAILABLE:
			alert("Sorry, position is unavailable");
			break;
	}
};
</script>
</body>
</html>